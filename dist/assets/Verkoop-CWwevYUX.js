import{K as Z}from"./KleurPreview-lCWdoLVy.js";import{_ as k,c as v,a as t,w as g,d as h,j as C,t as d,g as c,F as p,f as w,k as y,b as L,v as T,h as f,o as a,i as q,S as u,L as N,e as b}from"./index-r35gruVL.js";import{a as x,_ as I}from"./barcode-B9w6Yq3E.js";import{_}from"./undo-CXMKWPxU.js";import{_ as S}from"./bakNr-BJwFtyDA.js";import{_ as U,a as V}from"./ruler-DmfWG5CC.js";import{_ as A,a as B,b as H}from"./delivery-C6POvu2I.js";const z={name:"SneakerVerkoop",inject:["leveranciers"],emits:["updated","verkoop","return"],data(){return{colorArray:this.colors.split(" "),showCsv:!0,showVerkoop:!0,baknr:"OUT-1-",display:!1}},props:{id:{type:Number,required:!0},colorlabel:{type:String},date:{type:String},brand:{type:String},model:{type:String},size:{type:Number},colors:{type:String},supplier:{type:String},laces:{type:String},soles:{type:String},status:{type:Number},creator:{type:String},bakNr:{type:String},leverancierList:{type:Array},brandList:{type:Array},price:{type:Number},sold:{type:Number},soldDate:{type:String}},methods:{capitalize(o){var e=o.charAt(0),s=o.substring(1);e=e.toUpperCase(),console.log(e+s)},returnSneaker(){this.display=!this.display,this.$emit("return",this.id,{bakNr:this.baknr,status:3})},returnButton(){this.display=!this.display,document.getElementById("inputFocus").focus()}},computed:{getStatus(){switch(parseInt(this.status)){case 1:return new URL("data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23e3e3e3'%3e%3cpath%20d='m360-680%2040-80v-40h-40v-80h240q17%200%2028.5%2011.5T640-840v40l-40%2080H480v-40l-80%2080h-40ZM320-80v-274q0-11%203.5-23.5T332-400l148-280h120q14%2014%2027%2037.5t13%2042.5v520H320Zm80-80h160v-440h-32L400-356v196Zm0%200h160-160Z'/%3e%3c/svg%3e",import.meta.url).href;case 2:return new URL("data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23e3e3e3'%3e%3cpath%20d='M756-120%20537-339l84-84%20219%20219-84%2084Zm-552%200-84-84%20276-276-68-68-28%2028-51-51v82l-28%2028-121-121%2028-28h82l-50-50%20142-142q20-20%2043-29t47-9q24%200%2047%209t43%2029l-92%2092%2050%2050-28%2028%2068%2068%2090-90q-4-11-6.5-23t-2.5-24q0-59%2040.5-99.5T701-841q15%200%2028.5%203t27.5%209l-99%2099%2072%2072%2099-99q7%2014%209.5%2027.5T841-701q0%2059-40.5%2099.5T701-561q-12%200-24-2t-23-7L204-120Z'/%3e%3c/svg%3e",import.meta.url).href;case 3:return new URL("data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23e3e3e3'%3e%3cpath%20d='M120-40v-880h80v80h560v-80h80v880h-80v-80H200v80h-80Zm80-480h80v-160h240v160h240v-240H200v240Zm0%20320h240v-160h240v160h80v-240H200v240Zm160-320h80v-80h-80v80Zm160%20320h80v-80h-80v80ZM360-520h80-80Zm160%20320h80-80Z'/%3e%3c/svg%3e",import.meta.url).href;case 4:return new URL("data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23e3e3e3'%3e%3cpath%20d='M280-640q-33%200-56.5-23.5T200-720v-80q0-33%2023.5-56.5T280-880h400q33%200%2056.5%2023.5T760-800v80q0%2033-23.5%2056.5T680-640H280Zm0-80h400v-80H280v80ZM160-80q-33%200-56.5-23.5T80-160v-40h800v40q0%2033-23.5%2056.5T800-80H160ZM80-240l139-313q10-22%2030-34.5t43-12.5h376q23%200%2043%2012.5t30%2034.5l139%20313H80Zm260-80h40q8%200%2014-6t6-14q0-8-6-14t-14-6h-40q-8%200-14%206t-6%2014q0%208%206%2014t14%206Zm0-80h40q8%200%2014-6t6-14q0-8-6-14t-14-6h-40q-8%200-14%206t-6%2014q0%208%206%2014t14%206Zm0-80h40q8%200%2014-6t6-14q0-8-6-14t-14-6h-40q-8%200-14%206t-6%2014q0%208%206%2014t14%206Zm120%20160h40q8%200%2014-6t6-14q0-8-6-14t-14-6h-40q-8%200-14%206t-6%2014q0%208%206%2014t14%206Zm0-80h40q8%200%2014-6t6-14q0-8-6-14t-14-6h-40q-8%200-14%206t-6%2014q0%208%206%2014t14%206Zm0-80h40q8%200%2014-6t6-14q0-8-6-14t-14-6h-40q-8%200-14%206t-6%2014q0%208%206%2014t14%206Zm120%20160h40q8%200%2014-6t6-14q0-8-6-14t-14-6h-40q-8%200-14%206t-6%2014q0%208%206%2014t14%206Zm0-80h40q8%200%2014-6t6-14q0-8-6-14t-14-6h-40q-8%200-14%206t-6%2014q0%208%206%2014t14%206Zm0-80h40q8%200%2014-6t6-14q0-8-6-14t-14-6h-40q-8%200-14%206t-6%2014q0%208%206%2014t14%206Z'/%3e%3c/svg%3e",import.meta.url).href;default:return new URL("data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23e3e3e3'%3e%3cpath%20d='m360-680%2040-80v-40h-40v-80h240q17%200%2028.5%2011.5T640-840v40l-40%2080H480v-40l-80%2080h-40ZM320-80v-274q0-11%203.5-23.5T332-400l148-280h120q14%2014%2027%2037.5t13%2042.5v520H320Zm80-80h160v-440h-32L400-356v196Zm0%200h160-160Z'/%3e%3c/svg%3e",import.meta.url).href}},supplierName(){return this.supplier?this.supplier.substring(0,7):"Onbekend"},stringId(){return this.id?String(this.id).padStart(4,"0"):"0000"}},watch:{baknr(o){const e="OUT-1-";if(!o){this.baknr=e;return}let s=o.toUpperCase().replace(/[^A-Z0-9]/g,"");s.startsWith(e.replace(/-/g,""))&&(s=s.slice(e.replace(/-/g,"").length));let l=e;s=s.slice(0,3),s.length===1?l+=`${s[0]}-`:s.length===2?l+=`${s[0]}-${s[1]}`:s.length===3&&(l+=`${s[0]}-${s[1]}-${s[2]}`),l=l.slice(0,9),l!==this.baknr&&(this.baknr=l)}},mounted(){},components:{KleurPreview:Z}},M={class:"row mx-auto text-center text-dark"},E=["title"],j={key:0},K={key:1},R={id:"kleur",class:"col-1 borders valign"},D={id:"maat",class:"col-1 valign borders"},F={class:"text-center"},O={id:"user",class:"col-2 valign borders"},P={id:"datum",class:"col-1 valign borders"},J={id:"datum",class:"col-1 valign borders"},W={key:0,id:"leverancier",class:"col-1 valign borders"},Y={class:"full m-0 p-0",id:"confirm"},G={class:"row m-0 p-0 w-100 h-100 d-flex align-items-center text-center"},Q={class:"col-6 col-xl-4 bg-dark m-0 p-0 text-light mx-auto rounded"},X={class:"d-flex align-items-center justify-content-center mt-5"},$={class:"text-yellow mx-2"},ee={class:"row m-0 p-0"},te={class:"col-6"},se={class:"row m-0 p-0"},re={class:"col-6 m-0 p-0"},oe={class:"col-6 m-0 p-0"};function ie(o,e,s,l,n,i){const m=f("KleurPreview");return a(),v(p,null,[t("div",M,[t("div",{id:"id",class:C(["col-1 borders valign",s.colorlabel])},d(i.stringId),3),t("div",{id:"model",class:"col-2 borders",title:s.model},[c(d(s.brand)+" ",1),e[6]||(e[6]=t("br",null,null,-1)),e[7]||(e[7]=c()),s.model?(a(),v("span",j,d(s.model.slice(0,18)),1)):(a(),v("span",K," "))],8,E),t("div",R,[(a(!0),v(p,null,w(n.colorArray,r=>(a(),q(m,{color:r},null,8,["color"]))),256))]),t("div",D,[t("div",F,d(s.size),1)]),t("div",O,d(s.creator),1),t("div",P,"€"+d(s.price),1),t("div",J,d(s.bakNr),1),s.supplier?(a(),v("div",W,d(s.supplier.substring(0,7)),1)):h("",!0),t("div",{id:"",class:"col-1 valign borders pointer",onClick:e[0]||(e[0]=r=>o.$emit("verkoop",s.id))},e[8]||(e[8]=[t("img",{class:"growz",src:x},null,-1)])),t("div",{id:"",class:"col-1 valign borders pointer",onClick:e[1]||(e[1]=(...r)=>i.returnButton&&i.returnButton(...r))},e[9]||(e[9]=[t("img",{class:"growz",src:_},null,-1)]))]),g(t("div",Y,[t("div",G,[t("div",Q,[t("p",X,[e[10]||(e[10]=c("Ben je zeker dat ")),t("span",$,d(s.id),1),e[11]||(e[11]=c(" terug in stock moet?"))]),t("div",ee,[e[12]||(e[12]=t("div",{class:"col-3 text-end mb-5 justify-content-center"},[t("img",{src:S,class:"med whiteIcons"})],-1)),t("div",te,[g(t("input",{id:"inputFocus",class:"text-center rounded",placeholder:"locatie","onUpdate:modelValue":e[2]||(e[2]=r=>n.baknr=r),onKeyup:e[3]||(e[3]=L((...r)=>i.returnSneaker&&i.returnSneaker(...r),["enter"]))},null,544),[[T,n.baknr]])])]),t("div",se,[t("div",re,[t("button",{class:"w-100 py-3 bg-green rounded-bottom-left hover",onClick:e[4]||(e[4]=(...r)=>i.returnSneaker&&i.returnSneaker(...r))},"JA")]),t("div",oe,[t("button",{class:"w-100 py-3 bg-red rounded-bottom-right hover",onClick:e[5]||(e[5]=r=>n.display=!n.display)},"NEE")])])])])],512),[[y,n.display]])],64)}const le=k(z,[["render",ie],["__scopeId","data-v-0f7f62f7"]]),ae="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23e3e3e3'%3e%3cpath%20d='M600-120q-118%200-210-67T260-360H120v-80h122q-2-11-2-20v-40q0-9%202-20H120v-80h140q38-106%20130-173t210-67q69%200%20130.5%2024T840-748l-70%2070q-35-29-78.5-45.5T600-740q-75%200-136.5%2038.5T370-600h230v80H344q-2%2011-3%2020t-1%2020q0%2011%201%2020t3%2020h256v80H370q32%2063%2093.5%20101.5T600-220q48%200%2092.5-16.5T770-282l70%2070q-48%2044-109.5%2068T600-120Z'/%3e%3c/svg%3e",ne={name:"Verkoop_View",data(){return{sneakerList:[],leverancierList:[],leverancierName:"",id:"",showConfirmUpdate:!1,sortKey:"id",sortAscending:!0}},props:{},methods:{async getSneakers(){await u.getAll().then(o=>{this.sneakerList=o.data,console.log(this.sneakerList)}).catch(o=>{console.error(o)})},getLeveranciers(){N.getAll().then(o=>{this.leverancierList=o.data,console.log("LEVERANCIER"),console.log(this.leverancierList)})},getLeverancierName(o){o=parseInt(o);const e=this.leveranciers().find(s=>s.id===o);return e?e.name:"???"},verkoop(o){this.id=o,this.showConfirmUpdate=!this.showConfirmUpdate},confirmVerkoop(){console.log("VERKAUFEN SLETSCH");var o={status:5,soldDate:this.createDate};u.update(this.id,o).then(()=>{console.log("yolo baby update , check db bro"),this.showConfirmUpdate=!this.showConfirmUpdate,this.getSneakers()}).catch(e=>{e="Sneaker upodate nope bra",console.error(e),alert(e)})},toggleSort(o){this.sortKey===o?this.sortAscending=!this.sortAscending:(this.sortKey=o,this.sortAscending=!0)},toggleContent(){this.$emit("switch-tab",5)},returnSneaker(o,e){u.update(o,e).then(()=>{this.getSneakers()}).catch(s=>{console.log(s)})}},emits:["switch-tab"],inject:["brands","labelColors","leveranciers","werknemers"],computed:{createDate(){var o=new Date,e=o.getHours(),s=o.getMinutes(),l=e+":"+s,n=o.getDate(),i=o.getMonth()+1,m=o.getFullYear(),r=n+"-"+i+"-"+m;return console.log(l),console.log(r),r},filteredSneakers(){let o=Array.isArray(this.sneakerList)?this.sneakerList:[];return o=o.filter(e=>e.status==4),o.sort((e,s)=>{const l=this.sortKey;return this.sortAscending?e[l]-s[l]:s[l]-e[l]})},stringId(){return this.id?String(this.id).padStart(4,"0"):"0000"}},mounted(){this.getSneakers(),this.getLeveranciers()},components:{SneakerVerkoop:le}},de={class:"vh-80 m-0 p-0 scroll"},ve={class:"row mx-auto bg-blue text-white text-center rounded-top py-2 sticky"},ce={class:"d-none"},me={key:0,class:"m-0 p-0 mx-auto"},pe={class:"row m-0 p-0 vh-5 bg-blue text-white valign"},ue={key:0,class:"col-1"},ge={key:1,class:"col-1 h-100 valign justify-content-center fw-bold",title:"Totaal"},he={class:"col-3 h-100 py-1 mx-auto"},be={class:"full m-0 p-0",id:"confirm"},ke={class:"row m-0 p-0 w-100 h-100 d-flex align-items-center text-center"},we={class:"col-6 col-xl-4 bg-dark m-0 p-0 text-light mx-auto rounded"},ye={class:"my-5"},fe={class:"text-yellow"},qe={class:"row m-0 p-0"},xe={class:"col-6 m-0 p-0"},_e={class:"col-6 m-0 p-0"};function Se(o,e,s,l,n,i){const m=f("SneakerVerkoop");return a(),v(p,null,[t("div",de,[t("div",ve,[t("div",{id:"id",class:"col-1 borders py-1 rounded-top",title:"id",onClick:e[0]||(e[0]=r=>i.toggleSort("id"))},e[7]||(e[7]=[t("img",{src:I,class:"navImg"},null,-1)])),e[12]||(e[12]=t("div",{id:"merk",class:"col-2 borders py-1",title:"merk"},[t("img",{src:U,class:"navImg"})],-1)),e[13]||(e[13]=t("div",{id:"kleur",class:"col-1 borders py-1",title:"kleur"},[t("img",{src:A,class:"navImg"})],-1)),t("div",{id:"maat",class:"col-1 borders py-1",title:"maat",onClick:e[1]||(e[1]=r=>i.toggleSort("size"))},e[8]||(e[8]=[t("img",{src:V,class:"navImg"},null,-1)])),e[14]||(e[14]=b('<div id="user" class="col-2 borders py-1" title="gebruiker" data-v-606e2862><img src="'+B+'" class="navImg" data-v-606e2862></div><div id="datum" class="col-1 borders py-1" title="datum" data-v-606e2862><img src="'+ae+'" class="navImg" data-v-606e2862></div><div id="locatie" class="col-1 borders py-1" title="locatie" data-v-606e2862><img src="'+S+'" class="navImg" data-v-606e2862></div><div id="leverancier" class="col-1 borders py-1" title="leverancier" data-v-606e2862><img src="'+H+'" class="navImg" data-v-606e2862></div><div id="verkoop" class="col-1 borders py-1" title="xx" data-v-606e2862><img src="'+x+'" class="navImg" data-v-606e2862></div><div id="return" class="col-1 borders py-1 rounded-top" data-v-606e2862><img src="'+_+'" class="navImg" data-v-606e2862></div>',6)),t("div",ce,[t("div",{id:"id",class:"col-1 borders py-1 mb-1 fw-bold",onClick:e[2]||(e[2]=r=>i.toggleSort("id"))},"id"),e[9]||(e[9]=t("div",{id:"merk",class:"col-2 borders py-1 mb-1"},"merk",-1)),e[10]||(e[10]=t("div",{id:"kleur",class:"col-1 borders py-1 mb-1"},"kleur",-1)),t("div",{id:"maat",class:"col-1 borders py-1 mb-1 fw-bold",onClick:e[3]||(e[3]=r=>i.toggleSort("size"))},"maat"),e[11]||(e[11]=b('<div id="user" class="col-2 borders py-1 mb-1" data-v-606e2862>user</div><div id="datum" class="col-1 borders py-1 mb-1" data-v-606e2862>prijs</div><div id="locatie" class="col-1 borders py-1 mb-1" data-v-606e2862>locatie</div><div id="leverancier" class="col-1 borders py-1 mb-1" data-v-606e2862>bron</div><div id="verkoop" class="col-1 borders py-1 mb-1" data-v-606e2862>verkoop</div><div id="return" class="col-1 borders py-1 mb-1" data-v-606e2862>return</div>',6))])]),i.filteredSneakers.length>0?(a(),v("div",me,[(a(!0),v(p,null,w(i.filteredSneakers,r=>(a(),v("div",{key:r.id},[r.status==4?(a(),q(m,{key:0,id:r.id,colorlabel:r.colorlabel,date:r.date,brand:r.brand,model:r.model,size:r.size,colors:r.colors,supplier:i.getLeverancierName(r.supplier),status:r.status,creator:r.creator,verkoop:r.verkoop,price:r.price,bakNr:r.bakNr,onVerkoop:i.verkoop,onReturn:i.returnSneaker,onUpdated:i.getSneakers},null,8,["id","colorlabel","date","brand","model","size","colors","supplier","status","creator","verkoop","price","bakNr","onVerkoop","onReturn","onUpdated"])):h("",!0)]))),128))])):h("",!0)]),t("div",pe,[i.filteredSneakers.length==0?(a(),v("div",ue)):(a(),v("div",ge,d(i.filteredSneakers.length),1)),e[15]||(e[15]=t("div",{class:"col-8"},null,-1)),t("div",he,[t("button",{onClick:e[4]||(e[4]=r=>i.toggleContent()),id:"verkochtButton",class:"w-100 h-100 mx-auto rounded bg-green hover fw-bold"},"Sold")])]),g(t("div",be,[t("div",ke,[t("div",we,[t("p",ye,[e[16]||(e[16]=c("Ben je zeker dat ")),t("span",fe,d(i.stringId),1),e[17]||(e[17]=c(" wil verkopen?"))]),t("div",qe,[t("div",xe,[t("button",{class:"w-100 py-3 bg-green rounded-bottom-left hover",onClick:e[5]||(e[5]=(...r)=>i.confirmVerkoop&&i.confirmVerkoop(...r))},"JA")]),t("div",_e,[t("button",{class:"w-100 py-3 bg-red rounded-bottom-right hover",onClick:e[6]||(e[6]=r=>n.showConfirmUpdate=!n.showConfirmUpdate)},"NEE")])])])])],512),[[y,n.showConfirmUpdate==!0]])],64)}const Ze=k(ne,[["render",Se],["__scopeId","data-v-606e2862"]]),Ae=Object.freeze(Object.defineProperty({__proto__:null,default:Ze},Symbol.toStringTag,{value:"Module"}));export{Ze as V,ae as _,Ae as a};
