import{_ as w,c as m,a as t,w as a,d as x,v as c,b as p,k as f,g as d,t as h,F as b,S as u,o as g}from"./index-r35gruVL.js";import{K as k}from"./KleurPreview-lCWdoLVy.js";import{_ as v}from"./stock-Bz_kUmQn.js";import{_ as C}from"./next-CDgjE-Ua.js";const y={name:"Repair_View",data(){return{sneaker:null,id:null,baknr:"OUT-1-",showConfirmUpdate:!1,showConfirmAnnuleren:!1,showConfirm:!1}},props:{},methods:{search(){u.get(this.id).then(r=>{this.sneaker=r.data,this.sneaker.colors=this.sneaker.colors.split(" "),this.sneaker.colors.pop(),console.log(this.sneaker)}).catch(r=>{r="Sneaker niet gevonden",console.error(r),alert(r)})},update(){const r={status:3,bakNr:this.baknr};u.update(this.id,r).then(()=>{console.log("UPDATE STOCK: "+this.id+" "+this.baknr),console.log(r),console.log("yolo baby update , check db bro"),this.reset()}).catch(e=>{e="Sneaker upodate nope bra",console.error(e),alert(e)})},annuleren(){window.location.reload()},reset(){document.getElementById("search").focus(),this.showConfirmUpdate=!this.showConfirmUpdate,this.id=null,this.baknr=null},capitalize(r){var e=r.charAt(0),s=r.substring(1);return e=e.toUpperCase(),console.log(e+s),e+s},async exist(){try{await u.get(this.id).then(r=>{});return}catch{this.showConfirm=!0}},moveCursorToEnd(r){const e=r.target;this.$nextTick(()=>{const s=e.value.length;e.setSelectionRange(s,s)})}},components:{KleurPreview:k},watch:{baknr(r){const e="OUT-1-";if(!r){this.baknr=e;return}let s=r.toUpperCase().replace(/[^A-Z0-9]/g,"");s.startsWith(e.replace(/-/g,""))&&(s=s.slice(e.replace(/-/g,"").length));let l=e;s=s.slice(0,3),s.length===1?l+=`${s[0]}-`:s.length===2?l+=`${s[0]}-${s[1]}`:s.length===3&&(l+=`${s[0]}-${s[1]}-${s[2]}`),l=l.slice(0,9),l!==this.baknr&&(this.baknr=l)}},mounted(){this.$nextTick(()=>{document.getElementById("search").focus()})}},U={class:"h-100 valign bg-blue text-light px-5"},_={key:0,class:"targets row w-100 m-0 p-0"},T={class:"w-100 text-center d-flex justify-content-center"},E={class:"w-100 text-center d-flex justify-content-center"},S={class:"w-100 text-center d-flex justify-content-center"},B={class:"full m-0 p-0",id:"confirm"},N={class:"row m-0 p-0 w-100 h-100 d-flex align-items-center text-center"},j={class:"col-6 col-xl-4 bg-dark m-0 p-0 text-light mx-auto rounded"},A={class:"d-flex align-items-center justify-content-center my-5"},D={class:"text-yellow mx-2"},K={class:"text-yellow mx-2"},z={class:"row m-0 p-0"},V={class:"col-6 m-0 p-0"},I={class:"col-6 m-0 p-0"},F={class:"full m-0 p-0",id:"confirm"},J={class:"row m-0 p-0 w-100 h-100 d-flex align-items-center text-center"},O={class:"col-6 col-xl-4 bg-dark m-0 p-0 text-light mx-auto rounded"},R={class:"row m-0 p-0"},P={class:"col-12 m-0 p-0"};function q(r,e,s,l,o,i){return g(),m(b,null,[t("div",U,[o.sneaker==null?(g(),m("div",_,[e[14]||(e[14]=t("img",{class:"vh-15 mb-4",src:v},null,-1)),t("div",T,[a(t("input",{type:"text",size:"14",id:"search",class:"w-100 text-center border-blue rounded mx-auto mb-1",maxlength:"4",placeholder:"labelnr","onUpdate:modelValue":e[0]||(e[0]=n=>o.id=n),autocomplete:"off",onChange:e[1]||(e[1]=(...n)=>i.exist&&i.exist(...n)),onKeyup:e[2]||(e[2]=p(n=>o.showConfirmUpdate=!0,["enter"])),onClick:e[3]||(e[3]=(...n)=>o.showConfirmUpdate&&o.showConfirmUpdate(...n))},null,544),[[c,o.id]])]),t("div",E,[a(t("input",{type:"text",size:"4",id:"bakNr",class:"w-100 text-center border-blue rounded mx-auto mb-1",maxlength:"9",placeholder:"locatie","onUpdate:modelValue":e[4]||(e[4]=n=>o.baknr=n),autocomplete:"off",onKeyup:e[5]||(e[5]=p(n=>o.showConfirmUpdate=!0,["enter"])),onClick:e[6]||(e[6]=(...n)=>o.showConfirmUpdate&&o.showConfirmUpdate(...n)),onFocus:e[7]||(e[7]=(...n)=>i.moveCursorToEnd&&i.moveCursorToEnd(...n)),onInput:e[8]||(e[8]=n=>o.baknr=n.target.value.toUpperCase())},null,544),[[c,o.baknr]])]),t("div",S,[t("div",{onClick:e[9]||(e[9]=n=>o.showConfirmUpdate=!0),id:"nextButton",class:"nextButton grow pointer boxShadow-blue square valign text-center h-100 mt-3"},e[13]||(e[13]=[t("img",{class:"vh-15 mx-auto selectDisable",src:C,title:"Je kan ook [ENTER] duwen."},null,-1)]))])])):x("",!0)]),a(t("div",B,[t("div",N,[t("div",j,[t("p",A,[e[15]||(e[15]=d("Ben je zeker dat ")),t("span",D,h(o.id),1),e[16]||(e[16]=d(" naar ")),t("span",K,h(o.baknr),1),e[17]||(e[17]=d(" stock moet?"))]),t("div",z,[t("div",V,[t("button",{class:"w-100 py-3 bg-green rounded-bottom-left hover",onClick:e[10]||(e[10]=(...n)=>i.update&&i.update(...n))},"JA")]),t("div",I,[t("button",{class:"w-100 py-3 bg-red rounded-bottom-right hover",onClick:e[11]||(e[11]=n=>o.showConfirmUpdate=!1)},"NEE")])])])])],512),[[f,o.showConfirmUpdate==!0]]),a(t("div",F,[t("div",J,[t("div",O,[e[18]||(e[18]=t("p",{class:"d-flex align-items-center justify-content-center my-5"},"Deze id bestaat niet.",-1)),t("div",R,[t("div",P,[t("button",{class:"w-100 py-3 bg-green rounded-bottom-left hover",onClick:e[12]||(e[12]=n=>{o.showConfirm=!1,o.id=""})},"JA")])])])])],512),[[f,o.showConfirm==!0]])],64)}const G=w(y,[["render",q],["__scopeId","data-v-1efcb318"]]);export{G as default};
